{
  "version": 1,
  "origin": "sandbox.rightech.io",
  "time": "2021-04-20T17:41:27.169Z",
  "user": "60490e8353072efc4bfd216c",
  "group": "60490e8353072efc4bfd216b",
  "store": "automatons",
  "data": {
    "_id": "607ab062e3ae1d0010cdd0ba",
    "name": "Опасная ситуация",
    "description": "",
    "models": [
      "6078485b402c060010391751",
      "607930a5402c060010391d6f"
    ],
    "model": "6078485b402c060010391751",
    "data": "{\"states\":{\"initial\":{\"data\":{\"type\":\"init\",\"id\":\"initial\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":100,\"left\":80}},\"final\":{\"data\":{\"type\":\"final\",\"id\":\"final\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":760,\"left\":660}},\"first\":{\"data\":{\"type\":\"state\",\"id\":\"first\",\"name\":\"В безопасности\",\"description\":\"\",\"onenter\":[{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"false\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}},{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"targetsTo\":\"{{model0}}\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"important\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"В безопасности\"}}},{\"id\":\"siren_off\",\"name\":\"Выключить сирену\",\"targetsTo\":\"{{model1}}\",\"args\":{}}],\"onexit\":[],\"width\":300,\"height\":220},\"position\":{\"top\":460,\"left\":900}},\"knlkk88z\":{\"data\":{\"type\":\"state\",\"id\":\"knlkk88z\",\"name\":\"В опасной геозоне\",\"description\":\"\",\"height\":220,\"width\":300,\"onenter\":[{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"targetsTo\":\"{{model0}}\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"critical\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"В опасной геозоне\"}}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"true\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}},{\"id\":\"siren_on\",\"name\":\"Включить сирену\",\"targetsTo\":\"{{model1}}\",\"args\":{}}],\"onexit\":[]},\"position\":{\"top\":460,\"left\":140}},\"knovtad4\":{\"data\":{\"type\":\"state\",\"id\":\"knovtad4\",\"name\":\"Определение состояния\",\"description\":\"\",\"onenter\":[{\"id\":\"watch-geofence\",\"name\":\"Начать отслеживание геозоны\",\"targetsTo\":\"{{model0}}\",\"args\":{\"geofences_ids\":{\"id\":\"geofences_ids\",\"value\":[\"6030ffcf42ac91001056d3ee\",\"6031001142ac91001056d3f9\",\"6038f80e821853001023bcd8\"]}}},{\"id\":\"unwatch-geofence\",\"name\":\"Остановить отслеживание геозоны\",\"targetsTo\":\"{{model0}}\",\"args\":{\"geofences_ids\":{\"id\":\"geofences_ids\",\"value\":[\"6030fb4e42ac91001056d320\",\"6036144a42ac91001057b08e\"]}}}],\"height\":160,\"width\":260,\"onexit\":[]},\"position\":{\"top\":140,\"left\":520}}},\"transitions\":{\"knovuan4\":{\"drawMode\":\"rou\",\"points\":[{\"x\":100,\"y\":100},{\"x\":160,\"y\":100},{\"x\":160,\"y\":80},{\"x\":200,\"y\":80},{\"x\":420,\"y\":80},{\"x\":420,\"y\":80},{\"x\":620,\"y\":80},{\"x\":620,\"y\":120}],\"data\":{\"owner\":{\"id\":\"initial\",\"point\":{\"id\":0,\"location\":\"right\"}},\"target\":{\"id\":\"knovtad4\",\"point\":{\"id\":5,\"location\":\"top\"}},\"id\":\"knovuan4\",\"blockKey\":\"cb-knovuan4\",\"autoDescription\":true,\"event\":\"init\",\"name\":\"Инициализация логики\",\"description\":\"Событие, возникающее при запуске интерпретации модели логики\",\"targetsTo\":null,\"targetIndex\":-1,\"eventParameters\":{}},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knovuan4\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knovuan4\"],\"width\":8,\"height\":3,\"position\":{\"x\":6,\"y\":3}},\"key\":\"cb-knovuan4\"}},\"knovucbc\":{\"drawMode\":\"rou\",\"points\":[{\"x\":500,\"y\":200},{\"x\":340,\"y\":200},{\"x\":340,\"y\":200},{\"x\":160,\"y\":200},{\"x\":160,\"y\":320},{\"x\":160,\"y\":320},{\"x\":160,\"y\":440}],\"data\":{\"owner\":{\"id\":\"knovtad4\",\"point\":{\"id\":3,\"location\":\"left\"}},\"target\":{\"id\":\"knlkk88z\",\"point\":{\"id\":1,\"location\":\"top\"}},\"id\":\"knovucbc\",\"blockKey\":\"cb-knovucbc\",\"autoDescription\":true,\"targetsTo\":\"{{model0}}\",\"targetIndex\":0,\"eventParameters\":{\"geofence-enter.geofence\":{\"id\":\"geofence-enter.geofence\",\"active\":true,\"type\":\"argument\",\"source\":\"config\",\"dataType\":\"string\",\"name\":\"geofence\",\"_isBase\":true}},\"event\":\"geofence-enter\",\"name\":\"Вход в геозону\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knovucbc\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knovucbc\"],\"width\":10,\"height\":3,\"position\":{\"x\":3,\"y\":9}},\"key\":\"cb-knovucbc\"}},\"knovue00\":{\"drawMode\":\"rou\",\"points\":[{\"x\":780,\"y\":200},{\"x\":880,\"y\":200},{\"x\":880,\"y\":200},{\"x\":960,\"y\":200},{\"x\":960,\"y\":320},{\"x\":960,\"y\":320},{\"x\":960,\"y\":440}],\"data\":{\"owner\":{\"id\":\"knovtad4\",\"point\":{\"id\":3,\"location\":\"right\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":3,\"location\":\"top\"}},\"id\":\"knovue00\",\"blockKey\":\"cb-knovue00\",\"autoDescription\":true,\"targetsTo\":\"{{model0}}\",\"targetIndex\":0,\"eventParameters\":{\"geofence-leave.geofence\":{\"id\":\"geofence-leave.geofence\",\"active\":true,\"type\":\"argument\",\"source\":\"config\",\"dataType\":\"string\",\"name\":\"geofence\",\"_isBase\":true}},\"event\":\"geofence-leave\",\"name\":\"Выход из геозоны\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knovue00\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knovue00\"],\"width\":8,\"height\":3,\"position\":{\"x\":44,\"y\":9}},\"key\":\"cb-knovue00\"}},\"knq2hnlt\":{\"drawMode\":\"rou\",\"points\":[{\"x\":440,\"y\":620},{\"x\":500,\"y\":620},{\"x\":500,\"y\":620},{\"x\":540,\"y\":620},{\"x\":720,\"y\":620},{\"x\":720,\"y\":620},{\"x\":880,\"y\":620}],\"data\":{\"owner\":{\"id\":\"knlkk88z\",\"point\":{\"id\":8,\"location\":\"right\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":8,\"location\":\"left\"}},\"id\":\"knq2hnlt\",\"blockKey\":\"cb-knq2hnlt\",\"autoDescription\":true,\"event\":\"geofence-leave\",\"name\":\"Выход из геозоны\",\"eventParameters\":{\"geofence-leave.geofence\":{\"id\":\"geofence-leave.geofence\",\"active\":true,\"type\":\"argument\",\"source\":\"config\",\"dataType\":\"string\",\"name\":\"geofence\",\"_isBase\":true}},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knq2hnlt\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knq2hnlt\"],\"width\":8,\"height\":3,\"position\":{\"x\":23,\"y\":30}},\"key\":\"cb-knq2hnlt\"}},\"knq2i2j4\":{\"drawMode\":\"rou\",\"points\":[{\"x\":880,\"y\":500},{\"x\":840,\"y\":500},{\"x\":840,\"y\":500},{\"x\":840,\"y\":500},{\"x\":840,\"y\":500},{\"x\":800,\"y\":500},{\"x\":620,\"y\":500},{\"x\":620,\"y\":500},{\"x\":440,\"y\":500}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":2,\"location\":\"left\"}},\"target\":{\"id\":\"knlkk88z\",\"point\":{\"id\":2,\"location\":\"right\"}},\"id\":\"knq2i2j4\",\"blockKey\":\"cb-knq2i2j4\",\"autoDescription\":true,\"event\":\"geofence-enter\",\"name\":\"Вход в геозону\",\"eventParameters\":{\"geofence-enter.geofence\":{\"id\":\"geofence-enter.geofence\",\"active\":true,\"type\":\"argument\",\"source\":\"config\",\"dataType\":\"string\",\"name\":\"geofence\",\"_isBase\":true}},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knq2i2j4\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knq2i2j4\"],\"width\":8,\"height\":3,\"position\":{\"x\":36,\"y\":24}},\"key\":\"cb-knq2i2j4\"}}}}"
  }
}