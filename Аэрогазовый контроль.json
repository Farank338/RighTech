{
  "version": 1,
  "origin": "sandbox.rightech.io",
  "time": "2021-04-20T17:41:29.188Z",
  "user": "60490e8353072efc4bfd216c",
  "group": "60490e8353072efc4bfd216b",
  "store": "automatons",
  "data": {
    "_id": "607ab54fe3ae1d0010cdd14f",
    "name": "Аэрогазовый контроль",
    "description": "",
    "models": [
      "6078485b402c060010391751",
      "607930a5402c060010391d6f"
    ],
    "model": "6078485b402c060010391751",
    "data": "{\"states\":{\"initial\":{\"data\":{\"type\":\"init\",\"id\":\"initial\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":100,\"left\":80}},\"final\":{\"data\":{\"type\":\"final\",\"id\":\"final\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":440,\"left\":120}},\"first\":{\"data\":{\"type\":\"state\",\"id\":\"first\",\"name\":\"Состояние безопасности\",\"description\":\"\",\"onenter\":[{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"targetsTo\":\"{{model0}}\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Вентиляция выключена\"}}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}},\"expr\":{\"id\":\"expr\",\"value\":\"false\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}}}},{\"id\":\"vent_off\",\"name\":\"Выключить вентиляцию\",\"targetsTo\":\"{{model1}}\",\"args\":{}}],\"onexit\":[],\"width\":280,\"height\":180},\"position\":{\"top\":220,\"left\":400}},\"knll5hay\":{\"data\":{\"type\":\"state\",\"id\":\"knll5hay\",\"name\":\"Состояние опасности\",\"description\":\"\",\"onenter\":[{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"targetsTo\":\"{{model0}}\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Вентиляция включена\"}}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}},\"expr\":{\"id\":\"expr\",\"value\":\"true\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}}}},{\"id\":\"vent_on\",\"name\":\"Включить вентиляцию\",\"targetsTo\":\"{{model1}}\",\"args\":{}}],\"height\":140,\"width\":220,\"onexit\":[]},\"position\":{\"top\":460,\"left\":200}}},\"transitions\":{\"0\":{\"drawMode\":\"rou\",\"points\":[{\"x\":100,\"y\":100},{\"x\":260,\"y\":100},{\"x\":260,\"y\":100},{\"x\":420,\"y\":100},{\"x\":420,\"y\":160},{\"x\":420,\"y\":160},{\"x\":420,\"y\":200}],\"data\":{\"id\":\"0\",\"name\":\"Инициализация логики\",\"description\":\"Событие, возникающее при запуске интерпретации модели логики\",\"event\":\"init\",\"owner\":{\"id\":\"initial\",\"point\":{\"location\":\"right\",\"id\":0}},\"target\":{\"id\":\"first\",\"point\":{\"location\":\"top\",\"id\":1}},\"blockKey\":\"cb-0\",\"targetIndex\":-1,\"autoDescription\":false,\"eventParameters\":{},\"targetsTo\":null},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"0\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"0\"],\"height\":6,\"width\":11,\"position\":{\"x\":16,\"y\":2}},\"key\":\"cb-0\"}},\"knll5nmb\":{\"drawMode\":\"rou\",\"points\":[{\"x\":380,\"y\":280},{\"x\":340,\"y\":280},{\"x\":340,\"y\":280},{\"x\":280,\"y\":280},{\"x\":280,\"y\":360},{\"x\":280,\"y\":360},{\"x\":280,\"y\":440}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":3,\"location\":\"left\"}},\"target\":{\"id\":\"knll5hay\",\"point\":{\"id\":4,\"location\":\"top\"}},\"id\":\"knll5nmb\",\"blockKey\":\"cb-knll5nmb\",\"autoDescription\":true,\"event\":\"es-recive-device-data\",\"name\":\"Получены данные\",\"description\":\"Выполнить переход если: Параметр \\\"Кислород\\\" <= 20 Или Параметр \\\"Сернистый ангидрид\\\" >= 0.00038 Или Параметр \\\"Сероводород\\\" >= 0.0007 Или Параметр \\\"Метан\\\" >= 1\",\"eventParameters\":{},\"targetIndex\":0,\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"oxygen\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"20\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"sulfurous\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"0.00038\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"hydrogen_sulfide\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"0.0007\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"methane\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"1\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"oxygen\\\"] <= 20\\n || object[\\\"state\\\"][\\\"sulfurous\\\"] >= 0.00038\\n || object[\\\"state\\\"][\\\"hydrogen_sulfide\\\"] >= 0.0007\\n || object[\\\"state\\\"][\\\"methane\\\"] >= 1\",\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knll5nmb\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knll5nmb\"],\"width\":8,\"height\":3,\"position\":{\"x\":10,\"y\":13}},\"key\":\"cb-knll5nmb\"}},\"knllav56\":{\"drawMode\":\"rou\",\"points\":[{\"x\":420,\"y\":520},{\"x\":500,\"y\":520},{\"x\":500,\"y\":520},{\"x\":580,\"y\":520},{\"x\":580,\"y\":460},{\"x\":580,\"y\":460},{\"x\":580,\"y\":400}],\"data\":{\"owner\":{\"id\":\"knll5hay\",\"point\":{\"id\":3,\"location\":\"right\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":9,\"location\":\"bottom\"}},\"id\":\"knllav56\",\"blockKey\":\"cb-knllav56\",\"autoDescription\":true,\"event\":\"es-recive-device-data\",\"name\":\"Получены данные\",\"description\":\"Выполнить переход если: Параметр \\\"Кислород\\\" > 20 И Параметр \\\"Сернистый ангидрид\\\" < 0.00038 И Параметр \\\"Сероводород\\\" < 0.0007 И Параметр \\\"Метан\\\" < 1\",\"eventParameters\":{},\"targetIndex\":0,\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"oxygen\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"20\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"sulfurous\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"0.00038\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"and\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"hydrogen_sulfide\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"0.0007\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"and\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"methane\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"1\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"and\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"oxygen\\\"] > 20\\n && object[\\\"state\\\"][\\\"sulfurous\\\"] < 0.00038\\n && object[\\\"state\\\"][\\\"hydrogen_sulfide\\\"] < 0.0007\\n && object[\\\"state\\\"][\\\"methane\\\"] < 1\",\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knllav56\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knllav56\"],\"width\":8,\"height\":3,\"position\":{\"x\":25,\"y\":25}},\"key\":\"cb-knllav56\"}}}}"
  }
}